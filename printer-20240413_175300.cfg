# JUST A NOTE, THIS REQUIRES THE FOLLOWING KLIPPER MODULE TO FUNCTION: https://github.com/Annex-Engineering/klipper/blob/master/klippy/extras/dockable_probe.py
# Documentation can be found here: https://github.com/Annex-Engineering/klipper/blob/master/docs/Dockable_Probe.md
# MCU Octopus
[mcu] 
#serial: /dev/serial/by-id/usb-Klipper_stm32f429xx_3B001A001350304738313820-if00
serial: /dev/ttyAMA0
restart_method: command

[printer]
kinematics: cartesian
max_velocity: 900
max_accel: 11000 # change this to 7500 after commissioning
max_accel_to_decel: 11000
max_z_velocity: 60   # may be able to increase to 15 after comissioning.
max_z_accel: 300
square_corner_velocity: 12.0 # start at 8, but then increase once you're sure assembly is sound

[gcode_arcs]
resolution: 0.1

[idle_timeout]
timeout: 3600
gcode:
    _CASELIGHT_OFF
    TURN_OFF_HEATERS
    SET_PIN PIN=caselight_led VALUE=0.1
    M84

#Input Shaper Settings
[input_shaper]
shaper_freq_x: 53
shaper_freq_y: 53
shaper_type: mzv

[include stepper.cfg]
[include extruder.cfg]
[include heater.cfg]
[include sensor.cfg]
[include cooling.cfg]
[include idm.cfg]
[include mainsail.cfg]
[include include/*.cfg]
#[include inputshaper.cfg]

[exclude_object]

[idle_timeout]
timeout: 2400
gcode:
    TURN_OFF_HEATERS
    TURN_FANS_OFF
    _CASELIGHT_OFF
    M84


[force_move]
enable_force_move: True

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 24.548
#*# pid_ki = 1.152
#*# pid_kd = 130.718
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 38.476
#*# pid_ki = 2.004
#*# pid_kd = 184.686
#*#
#*# [idm model default]
#*# model_coef = 1.380741342030343,
#*# 	  1.8017997484419856,
#*# 	  0.7729173018009888,
#*# 	  0.4036507506748305,
#*# 	  0.3161194317689574,
#*# 	  0.23068256896742725,
#*# 	  -0.1055707665865462,
#*# 	  -0.12055849114487571,
#*# 	  0.18621486902830467,
#*# 	  0.1359391224989511
#*# model_domain = 3.255198748879457e-07,3.3727537365508486e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 57.660594
#*# model_offset = 0.00000
